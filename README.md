# Project_template

Это шаблон для решения проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

<aside>

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании и условия задания. Это нормально.

</aside

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут посредством веб-интерфейса задавать т.н. "уставку" требуемой температуры, к которой етрмостат/контроллер будет приводить комнатную температуру
- Система поддерживает как групповое изменение значения атрибута Value класса Sensor, так и его изменение по конкретному ID для Sensor   

**Мониторинг температуры:**

- Пользователи могут посредством веб-интерфейса просматривать текущую уставку требуемой температуры, к которой етрмостат/контроллер будет приводить комнатную температуру 
- Система поддерживает как групповое получение значения атрибута Value класса Sensor, так и по конкретному ID для Sensor

- **Добавление нового устройства:**
 
- Система поддерживает одбавление устйроств в БД, для которых по API приходит JSON

### 2. Анализ архитектуры монолитного приложения

Перечислите здесь основные особенности текущего приложения: какой язык программирования используется, какая база данных, как организовано взаимодействие между компонентами и так далее.
Язык - GO
БД - PostgeSQL (github.com/jackc/pgx/v5/pgxpool)


### 3. Определение доменов и границы контекстов

Монолитное решение представлено одним под-доменом управления климатом в домене цифровой недвижимости.

Решение To-be предполагает доабвление под-доменов контроля доступа, управление освещением, наблюдения. 

### **4. Проблемы монолитного решения**

- Минимальный функционал даже в рамках базовых сервисов мониторинга температуры и управления отоплением - есть возможность только посмотреть/установить целевую температуру без информации о текущей комнатной температуре.
- Отсутствуют какие-либо элементы безопасности и разграничения прав доступа, ролевой модели.
- Не выделяются регионы, что будет необходимо для дальней работы на межрегиональном уровне, что следует из описания.
- Пользовательский инструментарий работы с добавлением устройств/домов подразумевает наличие знаний уровня системного администратора и сильно ограничивает круг потенциальных пользователей
- Отсутствует нейминг-конвенция для сущностей и атрибутов
- В монолите сложности с масштабированием функционала при увеличении команды


### 5. Визуализация контекста системы — диаграмма С4

Добавьте сюда диаграмму контекста в модели C4.

Чтобы добавить ссылку в файл Readme.md, нужно использовать синтаксис Markdown. Это делают так:

as-is

<img width="260" height="827" alt="изображение" src="https://github.com/user-attachments/assets/809d4deb-e834-47a4-8974-9de564186732" /> 

to-be
<img width="1118" height="623" alt="изображение" src="https://github.com/user-attachments/assets/216e822c-096b-4673-911d-67f32c687b06" />

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

As-is

<img width="541" height="863" alt="изображение" src="https://github.com/user-attachments/assets/5d3e929e-9729-40d2-8251-3fd847683f0c" />

Transit

<img width="751" height="846" alt="изображение" src="https://github.com/user-attachments/assets/3901f5d6-23d4-4c6f-b39e-203feba8a132" />

To-be

<img width="674" height="752" alt="изображение" src="https://github.com/user-attachments/assets/b77ddbc2-4fcf-41df-8c30-1bf6d15de18f" />


**Диаграмма компонентов (Components)**

Добавьте диаграмму для каждого из выделенных микросервисов.

**Диаграмма кода (Code)**

Monolith

<img width="2443" height="231" alt="изображение" src="https://github.com/user-attachments/assets/b5541974-8255-4150-9bb4-f3581e1310a2" />

SCUD microservice

<img width="1014" height="444" alt="изображение" src="https://github.com/user-attachments/assets/600a3ffa-e5ea-4aaf-be3c-32b1b3c9deb6" />


# Задание 3. Разработка ER-диаграммы

Добавьте сюда ER-диаграмму. Она должна отражать ключевые сущности системы, их атрибуты и тип связей между ними.

# Задание 4. Создание и документирование API

### 1. Тип API

Используется REST API как наиболее простое и решающее поставленую задачу решение. В перспективе сервис СКУД, возможно, потребует асинхронного взаимодействия, но сейчас соответствующих требований бизнеса не обозначено.

### 2. Документация API



# Задание 5. Работа с docker и docker-compose

Done, 

# **Задание 6. Разработка MVP**

Необходимо создать новые микросервисы и обеспечить их интеграции с существующим монолитом для плавного перехода к микросервисной архитектуре. 

### **Что нужно сделать**

1. Создайте новые микросервисы для управления телеметрией и устройствами (с простейшей логикой), которые будут интегрированы с существующим монолитным приложением. Каждый микросервис на своем ООП языке.
2. Обеспечьте взаимодействие между микросервисами и монолитом (при желании с помощью брокера сообщений), чтобы постепенно перенести функциональность из монолита в микросервисы. 

В результате у вас должны быть созданы Dockerfiles и docker-compose для запуска микросервисов. 

Создан СКУД-сервис, позволяющий доабавлять устройства (ворота) в БД, обращаться к ним для получения статуса (открыто/закрыто), изменять статус "открыть", "зактрыть"
